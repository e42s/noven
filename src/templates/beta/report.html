{% extends base.html %}

{% block title %}成绩单 - Noven{% end %}

{% block head %}<link rel="stylesheet" href="{{ static_url('css/report.css') }}">{% end %}

{% block body %}<div class="box">
  <div class="card-box" id="about">
    <div class="card">
      <div class="body">
        <span class="name">{{ u.name }}</span><i class="activated-{{ u.verified }}"></i><br />
        <span class="accessories">
          浙江大学<br />
          <span class="title">平均绩点</span> {{ u.GPA }}
          <span class="title">已修学分</span> {{ sum([float(v.point) for v in u.courses.values()]) }}
          <span class="title">课程总数</span> {{ len(u.courses.values()) }}
        </span>
      </div>
    </div>
  </div>
  <div class="swipe" id="report"><div class="swipe-wrap">
  {% for t in u.terms %}
  <div class="slide">
    <div class="card-box">
      <div class="heading">
        <span>{{ t[:4] }}-{{ t[4:8] }}学年</span><br />
        <span>第{{ t[-1] }}学期</span>
      </div>
    {% for i, c in enumerate([c for c in u.courses.values() if t in c.term]) %}
      <div class="card">
        <table><tbody><tr>
          <td class="no"><span>{{ i+1 }}</span></td>
          <td class="body">
            <span class="subject">{{ c.subject }}</span><br />
            <span class="accessories">
              <span class="title">学分</span> {{ c.point }}
              <span class="title">绩点</span> {{ c.grade }}
            </span>
          </td>
          <td class="score" ><span>{{ c.score }}</span></td>
        </tr></tbody></table>
      </div>
    {% end %}
      <div class="footer">
        <span>{{ t[:4] }} · {{t[-1]}}</span>
      </div>
    </div>
  </div>
  {% end %}
  </div></div>
</div>
<script src="{{ static_url('js/swipe.js') }}"></script>{% end %}